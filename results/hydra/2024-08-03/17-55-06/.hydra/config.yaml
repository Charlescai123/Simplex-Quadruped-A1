coordinator:
  teacher_learn: true
  max_dwell_steps: 10
envs:
  simulator:
    envs_path: simulator/sim_envs_v2
    robot_urdf_path: src/envs/simulator/sim_envs_v2/urdf/a1.urdf
    fixed_time_step: 0.002
    num_solver_iterations: 30
    enable_cone_friction: 0
    show_gui: true
    video:
      record: false
      save_path: /home/mao/Desktop/simulation.mp4
    camera:
      is_on: false
      distance: 4.0
      yaw: -105
      pitch: -15
      target_position:
      - 3
      - 0
      - 0
    friction: 0.7
    plane_urdf_path: src/envs/simulator/meshes/plane.urdf
    add_terrain: false
    add_lane: true
    random_reset:
      train: true
      evaluation: true
      friction:
      - 0.4
      - 0.4
      velocity:
      - 0
      - 0.9
    record_video: false
  robot:
    constant:
      pi: 3.141592653589793
      -dot2pi: -0.6283185307179586
      motor_control_mode:
        position: 0
        torque: 1
        hybrid: 2
      pose:
        standing:
        - 0
        - 0.9
        - -1.8
        - 0
        - 0.9
        - -1.8
        - 0
        - 0.9
        - -1.8
        - 0
        - 0.9
        - -1.8
        laying:
        - -0.275
        - 1.09
        - -2.7
        - 0.319
        - 1.08
        - -2.72
        - -0.3
        - 1.0584
        - -2.675
        - 0.283
        - 1.083
        - -2.685
    gait_scheduler:
      init_gait_phase:
      - -0.6283185307179586
      - 0
      - 0
      - -0.6283185307179586
      gait_parameter_tuple:
      - 2.0
      - 3.141592653589793
      - 3.141592653589793
      - 0
      - 0.4
      early_touchdown_phase_threshold: 0.5
      lose_contact_phase_threshold: 0.1
    interface:
      model: a1
      urdf_path: ${envs.simulator.robot_urdf_path}
      base_joint_names: []
      foot_joint_names:
      - FR_foot_fixed
      - FL_foot_fixed
      - RR_foot_fixed
      - RL_foot_fixed
      time_step: 0.002
      action_repeat: 1
      reset_time: 3
      on_rack: false
      init_rack_position:
      - 0
      - 0
      - 1
      init_position:
      - 0
      - 0
      - 0.26
      sync_gui_time: 0.0
      camera_fixed: false
      motor_control_mode: ${envs.robot.constant.motor_control_mode.hybrid}
      motor_init_position: ${envs.robot.constant.pose.laying}
      motor_init_target_position: ${envs.robot.constant.pose.standing}
    motor_group:
      _target_: src.envs.robot.unitree_a1.motors.MotorGroup
      gen_by_yaml: true
      motors:
      - _target_: src.envs.robot.unitree_a1.motors.MotorModel
        name: FR_hip_joint
        motor_control_mode: 0
        init_position: 0.0
        min_position: -0.802851455917
        max_position: 0.802851455917
        min_velocity: -16
        max_velocity: 16
        min_torque: -33.5
        max_torque: 33.5
        kp: 100
        kd: 1
      - _target_: src.envs.robot.unitree_a1.motors.MotorModel
        name: FR_thigh_joint
        motor_control_mode: 0
        init_position: 0.9
        min_position: -1.0471975512
        max_position: 4.18879020479
        min_velocity: -16
        max_velocity: 16
        min_torque: -33.5
        max_torque: 33.5
        kp: 100
        kd: 2
      - _target_: src.envs.robot.unitree_a1.motors.MotorModel
        name: FR_calf_joint
        motor_control_mode: 0
        init_position: -1.8
        min_position: -2.6965336943
        max_position: -0.916297857297
        min_velocity: -16
        max_velocity: 16
        min_torque: -33.5
        max_torque: 33.5
        kp: 100
        kd: 2
      - _target_: src.envs.robot.unitree_a1.motors.MotorModel
        name: FL_hip_joint
        motor_control_mode: 0
        init_position: 0.0
        min_position: -0.802851455917
        max_position: 0.802851455917
        min_velocity: -16
        max_velocity: 16
        min_torque: -33.5
        max_torque: 33.5
        kp: 100
        kd: 1
      - _target_: src.envs.robot.unitree_a1.motors.MotorModel
        name: FL_thigh_joint
        motor_control_mode: 0
        init_position: 0.9
        min_position: -1.0471975512
        max_position: 4.18879020479
        min_velocity: -16
        max_velocity: 16
        min_torque: -33.5
        max_torque: 33.5
        kp: 100
        kd: 2
      - _target_: src.envs.robot.unitree_a1.motors.MotorModel
        name: FL_calf_joint
        motor_control_mode: 0
        init_position: -1.8
        min_position: -2.6965336943
        max_position: -0.916297857297
        min_velocity: -16
        max_velocity: 16
        min_torque: -33.5
        max_torque: 33.5
        kp: 100
        kd: 2
      - _target_: src.envs.robot.unitree_a1.motors.MotorModel
        name: RR_hip_joint
        motor_control_mode: 0
        init_position: 0.0
        min_position: -0.802851455917
        max_position: 0.802851455917
        min_velocity: -16
        max_velocity: 16
        min_torque: -33.5
        max_torque: 33.5
        kp: 100
        kd: 1
      - _target_: src.envs.robot.unitree_a1.motors.MotorModel
        name: RR_thigh_joint
        motor_control_mode: 0
        init_position: 0.9
        min_position: -1.0471975512
        max_position: 4.18879020479
        min_velocity: -16
        max_velocity: 16
        min_torque: -33.5
        max_torque: 33.5
        kp: 100
        kd: 2
      - _target_: src.envs.robot.unitree_a1.motors.MotorModel
        name: RR_calf_joint
        motor_control_mode: 0
        init_position: -1.8
        min_position: -2.6965336943
        max_position: -0.916297857297
        min_velocity: -16
        max_velocity: 16
        min_torque: -33.5
        max_torque: 33.5
        kp: 100
        kd: 2
      - _target_: src.envs.robot.unitree_a1.motors.MotorModel
        name: RL_hip_joint
        motor_control_mode: 0
        init_position: 0.0
        min_position: -0.802851455917
        max_position: 0.802851455917
        min_velocity: -16
        max_velocity: 16
        min_torque: -33.5
        max_torque: 33.5
        kp: 100
        kd: 1
      - _target_: src.envs.robot.unitree_a1.motors.MotorModel
        name: RL_thigh_joint
        motor_control_mode: 0
        init_position: 0.9
        min_position: -1.0471975512
        max_position: 4.18879020479
        min_velocity: -16
        max_velocity: 16
        min_torque: -33.5
        max_torque: 33.5
        kp: 100
        kd: 2
      - _target_: src.envs.robot.unitree_a1.motors.MotorModel
        name: RL_calf_joint
        motor_control_mode: 0
        init_position: -1.8
        min_position: -2.6965336943
        max_position: -0.916297857297
        min_velocity: -16
        max_velocity: 16
        min_torque: -33.5
        max_torque: 33.5
        kp: 100
        kd: 2
    stance_controller:
      qp_solver: quadprog
      ddq_kp:
      - 0.1
      - 0.1
      - 100.0
      - 100.0
      - 100.0
      - 0.1
      ddq_kd:
      - 40.0
      - 30.0
      - 10.0
      - 10.0
      - 10.0
      - 30.0
      ddq_bound:
      - 10.0
      - 10.0
      - 10.0
      - 20.0
      - 20.0
      - 20.0
      ddq_bound_magnitude: 1
      friction_coeff: 0.45
      reg_weight: 0.0001
      mpc_weights:
      - 1.0
      - 1.0
      - 0
      - 0
      - 0
      - 10
      - 0.0
      - 0.0
      - 0.1
      - 0.1
      - 0.1
      - 0.0
      - 0
      acc_weights:
      - 1
      - 1
      - 1
      - 10
      - 10
      - 1
      planning_horizon: 10
      planning_timestep: 0.025
    swing_controller:
      foot_lift_height: 0.1
      foot_landing_clearance: 0.01
      raibert_kp:
      - 0.03
      - 0.03
      - 0.03
      foot_placement_interval:
      - 0.15
      - 0.1
      - 0.05
      use_raibert_heuristic: true
    com_velocity_estimator:
      window_size: 20
      ground_normal_window_size: 10
    command:
      desired_vx: 0.3
      desired_vy: 0.0
      desired_wz: 0.0
      safe_height: 0.12
      mpc_body_height: 0.26
      mpc_body_mass: 11.22449
      mpc_body_inertia:
      - 0.135
      - 0.0
      - 0.0
      - 0.0
      - 0.285
      - 0.0
      - 0.0
      - 0.0
      - 0.32
ha_teacher:
  chi: 0.25
  epsilon: 0.4
  teacher_enable: true
  cvxpy_solver: cvxopt
hp_student:
  agents:
    action:
      add_noise: null
      noise_factor: 1
      noise_half_decay_time: 1000000.0
      bound:
      - -1
      - 1
      magnitude:
      - 4
      - 4
      - 2
      - 8
      - 8
      - 4
    initial_loss: 100
    soft_alpha: 0.005
    learning_rate_actor: 0.0003
    learning_rate_critic: 0.0003
    add_target_action_noise: true
    gamma_discount: 0.9
    model_path: ${logger.model_save_dir}
    training_by_steps: ${general.training_by_steps}
    max_training_steps: ${general.max_training_steps}
    max_training_episodes: ${general.max_training_episodes}
    max_steps_per_episode: ${general.max_steps_per_episode}
    evaluation_period: ${general.evaluation_period}
    max_evaluation_steps: ${general.max_evaluation_steps}
    use_taylor_nn: false
    taylor_editing: false
    iteration_times: 3
    random_reset:
      train: false
      eval: false
    replay_buffer:
      batch_size: 512
      buffer_size: 1000000.0
      experience_prefill_size: 512
    checkpoint: ${general.checkpoint}
  taylor:
    dense_dims:
    - 10
    - 10
    aug_order:
    - 1
    - 1
    - 0
    initializer_w: tn
    initializer_b: uniform
    activations:
    - relu
    - relu
  phydrl:
    gamma: 0.5
logger:
  mode: ${general.mode}
  model_name: ${general.id}
  plot_dir: results/plots
  log_dir: results/logs/${logger.mode}/${general.id}
  model_save_dir: results/models/${general.id}
  force_override: false
  fig_plotter:
    phase:
      plot: false
      save_dir: ${logger.plot_dir}/phases/${logger.mode}/${general.id}
    trajectory:
      plot: false
      save_dir: ${logger.plot_dir}/trajectories/${logger.mode}/${general.id}
  live_plotter:
    animation:
      show: false
      save_to_gif: false
      gif_path: animation.gif
      fps: 10
    live_trajectory:
      show: false
      save_to_gif: false
      gif_path: live_trajectory.gif
      fps: 10
      window_size: 30
general:
  id: SeCLM
  mode: train
  checkpoint: results/models/friction_0.7_delay_vel_0.6_sub_optimal1_best
  use_gpu: true
  gpu_id: 0
  name: simulation
  runtime: 30
  deploy_phydrl: true
  log_dir: saved/logs/robot
  training_by_steps: true
  max_training_steps: 1000000.0
  max_training_episodes: 1000.0
  max_steps_per_episode: 10000
  evaluation_period: 20
  max_evaluation_steps: 1500
  logging:
    mode: null
    folder: results/logs/debug
